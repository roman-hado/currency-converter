{"ast":null,"code":"import _slicedToArray from\"/home/romaha/Documents/currency-converter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useStyles}from'./CurrencyConverter.styles';import{getCurrency}from'../../services/currencies';import{getRoundedNumber}from'../../utils/getRoundedNumber';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CurrencyConverter=function CurrencyConverter(_ref){var rates=_ref.rates;var _useState=useState('UAH'),_useState2=_slicedToArray(_useState,2),fromCurrencyName=_useState2[0],setFromCurrencyName=_useState2[1];var _useState3=useState('USD'),_useState4=_slicedToArray(_useState3,2),toCurrencyName=_useState4[0],setToCurrencyName=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),fromCurrencyValue=_useState6[0],setFromCurrencyValue=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currencyRate=_useState8[0],setCurrencyRate=_useState8[1];var styles=useStyles();useEffect(function(){getCurrency(fromCurrencyName,toCurrencyName).then(function(res){return setCurrencyRate(res.result);});},[fromCurrencyName,toCurrencyName]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.wrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.giveWrapper,children:[/*#__PURE__*/_jsxs(\"label\",{className:styles.label,children:[/*#__PURE__*/_jsx(\"p\",{children:\"You give\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.input,value:getRoundedNumber(fromCurrencyValue).toString(),onChange:function onChange(e){return setFromCurrencyValue(+e.target.value);},type:\"number\"})]}),/*#__PURE__*/_jsx(\"select\",{name:\"currency\",value:fromCurrencyName,onChange:function onChange(e){return setFromCurrencyName(e.target.value);},children:Object.keys(rates).map(function(currencyName){return/*#__PURE__*/_jsx(\"option\",{value:currencyName,children:currencyName},currencyName);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.getWrapper,children:[/*#__PURE__*/_jsxs(\"label\",{className:styles.label,children:[/*#__PURE__*/_jsx(\"p\",{children:\"You get\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.input,value:getRoundedNumber(fromCurrencyValue*currencyRate).toString(),onChange:function onChange(e){return setFromCurrencyValue(+e.target.value/currencyRate);},type:\"number\"})]}),/*#__PURE__*/_jsx(\"select\",{name:\"currency\",value:toCurrencyName,onChange:function onChange(e){return setToCurrencyName(e.target.value);},children:Object.keys(rates).map(function(currencyName){return/*#__PURE__*/_jsx(\"option\",{value:currencyName,children:currencyName},currencyName);})})]})]});};","map":{"version":3,"names":["React","useEffect","useState","useStyles","getCurrency","getRoundedNumber","CurrencyConverter","rates","fromCurrencyName","setFromCurrencyName","toCurrencyName","setToCurrencyName","fromCurrencyValue","setFromCurrencyValue","currencyRate","setCurrencyRate","styles","then","res","result","wrapper","giveWrapper","label","input","toString","e","target","value","Object","keys","map","currencyName","getWrapper"],"sources":["/home/romaha/Documents/currency-converter/src/components/CurrencyConverter/CurrencyConverter.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useStyles } from './CurrencyConverter.styles';\nimport { getCurrency } from '../../services/currencies';\nimport { getRoundedNumber } from '../../utils/getRoundedNumber';\nimport { Rate } from '../../types/rate';\n\ninterface Props {\n  rates: Rate;\n}\n\nexport const CurrencyConverter:React.FC<Props> = ({ rates }) => {\n  const [fromCurrencyName, setFromCurrencyName] = useState('UAH');\n  const [toCurrencyName, setToCurrencyName] = useState('USD');\n  const [fromCurrencyValue, setFromCurrencyValue] = useState(1);\n  const [currencyRate, setCurrencyRate] = useState(1);\n\n  const styles = useStyles();\n\n  useEffect(() => {\n    getCurrency(fromCurrencyName, toCurrencyName)\n      .then(res => setCurrencyRate(res.result))\n  }, [fromCurrencyName, toCurrencyName]);\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.giveWrapper}>\n        <label className={styles.label}>\n          <p>You give</p>\n          <input\n            className={styles.input}\n            value={getRoundedNumber(fromCurrencyValue).toString()}\n            onChange={(e) => setFromCurrencyValue(+e.target.value)}\n            type=\"number\"\n          />\n        </label>\n        <select\n          name=\"currency\"\n          value={fromCurrencyName}\n          onChange={e => setFromCurrencyName(e.target.value)}\n        >\n          {Object.keys(rates).map(currencyName => (\n            <option key={currencyName} value={currencyName}>{currencyName}</option>\n          ))}\n        </select>\n      </div>\n      <div className={styles.getWrapper}>\n        <label className={styles.label}>\n          <p>You get</p>\n          <input\n            className={styles.input}\n            value={getRoundedNumber(fromCurrencyValue * currencyRate).toString()}\n            onChange={(e) => setFromCurrencyValue(+e.target.value / currencyRate)}\n            type=\"number\"\n          />\n        </label>\n        <select\n          name=\"currency\"\n          value={toCurrencyName}\n          onChange={e => setToCurrencyName(e.target.value)}\n        >\n          {Object.keys(rates).map(currencyName => (\n            <option key={currencyName} value={currencyName}>{currencyName}</option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"+HAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,4BAA1B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,gBAAT,KAAiC,8BAAjC,C,wFAOA,MAAO,IAAMC,kBAAiC,CAAG,QAApCA,kBAAoC,MAAe,IAAZC,MAAY,MAAZA,KAAY,CAC9D,cAAgDL,QAAQ,CAAC,KAAD,CAAxD,wCAAOM,gBAAP,eAAyBC,mBAAzB,eACA,eAA4CP,QAAQ,CAAC,KAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,eAAkDT,QAAQ,CAAC,CAAD,CAA1D,yCAAOU,iBAAP,eAA0BC,oBAA1B,eACA,eAAwCX,QAAQ,CAAC,CAAD,CAAhD,yCAAOY,YAAP,eAAqBC,eAArB,eAEA,GAAMC,OAAM,CAAGb,SAAS,EAAxB,CAEAF,SAAS,CAAC,UAAM,CACdG,WAAW,CAACI,gBAAD,CAAmBE,cAAnB,CAAX,CACGO,IADH,CACQ,SAAAC,GAAG,QAAIH,gBAAe,CAACG,GAAG,CAACC,MAAL,CAAnB,EADX,EAED,CAHQ,CAGN,CAACX,gBAAD,CAAmBE,cAAnB,CAHM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAEM,MAAM,CAACI,OAAvB,wBACE,aAAK,SAAS,CAAEJ,MAAM,CAACK,WAAvB,wBACE,eAAO,SAAS,CAAEL,MAAM,CAACM,KAAzB,wBACE,+BADF,cAEE,cACE,SAAS,CAAEN,MAAM,CAACO,KADpB,CAEE,KAAK,CAAElB,gBAAgB,CAACO,iBAAD,CAAhB,CAAoCY,QAApC,EAFT,CAGE,QAAQ,CAAE,kBAACC,CAAD,QAAOZ,qBAAoB,CAAC,CAACY,CAAC,CAACC,MAAF,CAASC,KAAX,CAA3B,EAHZ,CAIE,IAAI,CAAC,QAJP,EAFF,GADF,cAUE,eACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEnB,gBAFT,CAGE,QAAQ,CAAE,kBAAAiB,CAAC,QAAIhB,oBAAmB,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EAHb,UAKGC,MAAM,CAACC,IAAP,CAAYtB,KAAZ,EAAmBuB,GAAnB,CAAuB,SAAAC,YAAY,qBAClC,eAA2B,KAAK,CAAEA,YAAlC,UAAiDA,YAAjD,EAAaA,YAAb,CADkC,EAAnC,CALH,EAVF,GADF,cAqBE,aAAK,SAAS,CAAEf,MAAM,CAACgB,UAAvB,wBACE,eAAO,SAAS,CAAEhB,MAAM,CAACM,KAAzB,wBACE,8BADF,cAEE,cACE,SAAS,CAAEN,MAAM,CAACO,KADpB,CAEE,KAAK,CAAElB,gBAAgB,CAACO,iBAAiB,CAAGE,YAArB,CAAhB,CAAmDU,QAAnD,EAFT,CAGE,QAAQ,CAAE,kBAACC,CAAD,QAAOZ,qBAAoB,CAAC,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAkBb,YAAnB,CAA3B,EAHZ,CAIE,IAAI,CAAC,QAJP,EAFF,GADF,cAUE,eACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEJ,cAFT,CAGE,QAAQ,CAAE,kBAAAe,CAAC,QAAId,kBAAiB,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAHb,UAKGC,MAAM,CAACC,IAAP,CAAYtB,KAAZ,EAAmBuB,GAAnB,CAAuB,SAAAC,YAAY,qBAClC,eAA2B,KAAK,CAAEA,YAAlC,UAAiDA,YAAjD,EAAaA,YAAb,CADkC,EAAnC,CALH,EAVF,GArBF,GADF,CA4CD,CAzDM"},"metadata":{},"sourceType":"module"}